<!-- Evaluation planning sidenav -->
<md-content class="md-whiteframe-3dp" layout="column">
  <form name="evaluationPlanningForm" ng-submit="vm.createEvaluations(vm.evaluationSkeleton, evaluationPlanningForm.$valid)" novalidate>
    <md-toolbar flex="100">
      <div class="md-toolbar-tools">
        <h2>
          <span>Planning</span>
        </h2>
      </div>
    </md-toolbar>

    <div layout-padding layout="column">
      <div layout="column">
        <md-subheader flex="100">
          Shoppers
        </md-subheader>

        <md-radio-group ng-model="vm.evaluationSkeleton.shopper_repr">
          <md-radio-button ng-repeat="shopper in vm.project.shoppers_repr"
                           ng-value="shopper"
                           class="md-primary">
            {{ shopper.user.fullName }}
          </md-radio-button>
        </md-radio-group>
      </div>

      <div layout="column">
        <md-subheader flex="100">
          Subject of evaluation
        </md-subheader>

        <md-radio-group ng-model="vm.evaluationSkeleton.itemToAssess">
          <md-radio-button ng-repeat="place in vm.project.research_methodology.places_to_assess_repr"
                           ng-value="place"
                           class="md-primary">
            {{ place.name }}
            <span class="subject-of-evaluation-type">
              ({{('CONTENT_TYPE.'+place.place_type) | translate }})
            </span>
          </md-radio-button>
          <md-radio-button ng-repeat="person in vm.project.research_methodology.people_to_assess_repr"
                           ng-value="person"
                           class="md-primary">
            {{ person.person_repr.fullName }}
            <span class="subject-of-evaluation-type">
              ({{('CONTENT_TYPE.'+person.person_type) | translate }})
            </span>
          </md-radio-button>
        </md-radio-group>
      </div>

      <div layout="column">
        <md-subheader flex="100">
          Evaluation type
        </md-subheader>

        <md-radio-group ng-model="vm.evaluationSkeleton.visit_type">
          <md-radio-button value="call" class="md-primary">
            Call
          </md-radio-button>
          <md-radio-button value="visit" class="md-primary">
            Visit
          </md-radio-button>
        </md-radio-group>
      </div>

      <div layout="column">
        <md-subheader flex="100">
          Script
        </md-subheader>

        <md-radio-group ng-model="vm.evaluationSkeleton.questionnaire_script_repr">
          <md-radio-button ng-repeat="script in vm.project.research_methodology.scripts_repr"
                           ng-value="script"
                           class="md-primary">
            {{ script.title }}
          </md-radio-button>
        </md-radio-group>
      </div>

      <div layout="column">
        <md-subheader flex="100">
          Questionnaire template
        </md-subheader>

        <md-radio-group ng-model="vm.evaluationSkeleton.questionnaire_template_repr">
          <md-radio-button ng-repeat="questionnaire in vm.project.research_methodology.questionnaires_repr"
                           ng-value="questionnaire"
                           class="md-primary">
            {{ questionnaire.title }}
          </md-radio-button>
        </md-radio-group>
      </div>

      <div layout="row">
        <div layout="column">
          <!--
          Start date datepicker
          -->
          <label ng-style="{'font-size':'12px', 'color': 'rgb(117, 117, 117)'}" for="suggested_start_date">
            {{ 'PROJECT.START_DATE' | translate }}
          </label>
          <div>
            <md-datepicker id="suggested_start_date"
                           name="suggested_start_date"
                           ng-model="vm.evaluationSkeleton.suggested_start_date"
                           md-placeholder="{{ 'PROJECT.PLACEHOLDER.START_DATE' | translate }}">
            </md-datepicker>

            <!-- Validation messages -->
            <div ng-show="evaluationPlanningForm.$submitted" class="validation-messages" ng-messages="evaluationPlanningForm.suggested_start_date.$error">
              <div ng-message="valid">The entered value is not a date!</div>
            </div>
          </div>
        </div><!-- End of layout="column" -->

        <!--
        End date datepicker
        -->
        <div layout="column" class="margin-left-md">
          <label ng-style="{'font-size':'12px', 'color': 'rgb(117, 117, 117)'}" for="suggested_end_date">
            {{ 'PROJECT.END_DATE' | translate }}
          </label>
          <div>
            <md-datepicker id="suggested_end_date"
                           name="suggested_end_date"
                           ng-model="vm.evaluationSkeleton.suggested_end_date"
                           md-placeholder="{{ 'PROJECT.PLACEHOLDER.END_DATE' | translate }}">
            </md-datepicker>

            <!-- Validation messages -->
            <div ng-show="evaluationPlanningForm.$submitted" class="validation-messages" ng-messages="evaluationPlanningForm.period_end.$error">
              <div ng-message="valid">The entered value is not a date!</div>
            </div>
          </div>
        </div><!-- End of layout="column" -->
      </div><!-- End of layout="row" -->

      <md-input-container flex>
        <label>{{ 'EVALUATION.PLANNING.NUMBER_OF_EVALUATIONS' | translate }}</label>
        <input ng-model="vm.evaluationSkeleton.nrOfEvaluations" type="number" />
      </md-input-container>

      <md-button type="submit">
        {{ 'EVALUATION.PLANNING.CREATE_EVALUATIONS' | translate }}
      </md-button>

    </div>
  </form>
</md-content>