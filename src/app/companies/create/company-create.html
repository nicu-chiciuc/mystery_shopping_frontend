<md-content layout="column" layout-padding>

  <h2 ng-show="vm.isNewCompany">{{ 'COMPANY.NEW_COMPANY' | translate }}</h2>
  <h2 ng-hide="vm.isNewCompany">{{ 'COMPANY.EDIT_COMPANY' | translate }}</h2>

  <div ng-cloak >
    <form name="companyForm" ng-submit="vm.saveCompany(vm.company, companyForm.$valid, 'companies.detail.view')" novalidate>

      <!--
      Company name
      -->
      <md-input-container class="md-block">
        <label>{{ 'COMPANY.NAME' | translate }}</label>
        <input ng-model="vm.company.name" name="name" type="text" ng-required="true">

        <!-- Validation messages -->
        <div ng-show="companyForm.$submitted" ng-messages="companyForm.name.$error">
          <div ng-message="required">{{ vm.msUtils.translation.genericRequiredFieldMessage('COMPANY.NAME') }}</div>
        </div>
      </md-input-container>

      <!--
      Industry select
      -->
      <md-input-container class="md-block">
        <label>{{ 'COMPANY.INDUSTRY' | translate }}</label>
        <md-select ng-model="vm.company.industry" name="industry" ng-required="true">
          <md-option ng-repeat="industry in vm.industries" ng-value="industry.id">
            {{ industry.name }}
          </md-option>
        </md-select>

        <!-- Validation messages -->
        <div ng-show="companyForm.$submitted" ng-messages="companyForm.industry.$error">
          <div ng-message="required">{{ vm.msUtils.translation.genericRequiredFieldMessage('COMPANY.INDUSTRY') }}</div>
        </div>
      </md-input-container>

      <!--
      Country select
      -->
      <md-input-container class="md-block">
        <label>{{ 'COMPANY.COUNTRY' | translate }}</label>
        <md-select ng-model="vm.company.country" name="country" ng-required="true">
          <md-option ng-repeat="country in vm.countries" ng-value="country.id">
            {{ country.name }}
          </md-option>
        </md-select>

        <!-- Validation messages -->
        <div ng-show="companyForm.$submitted" ng-messages="companyForm.country.$error">
          <div ng-message="required">{{ vm.msUtils.translation.genericRequiredFieldMessage('COMPANY.COUNTRY') }}</div>
        </div>
      </md-input-container>

      <!--
      Contact person
      -->
      <md-input-container md-no-float class="md-block md-has-icon">
        <label>{{ 'COMPANY.CONTACT_PERSON' | translate }}</label>
        <!--<md-icon md-svg-src="img/icons/ic_person_24px.svg" class="name"></md-icon>-->
        <ng-md-icon icon="person" class="md-icon"></ng-md-icon>
        <input ng-model="vm.company.contact_person"
               name="contact_person"
               type="text"
               ng-required="true">

        <!-- Validation messages -->
        <div ng-show="companyForm.$submitted" ng-messages="companyForm.contact_person.$error">
          <div ng-message="required">{{ vm.msUtils.translation.genericRequiredFieldMessage('COMPANY.CONTACT_PERSON') }}</div>
        </div>
      </md-input-container>

      <!--
      Contact phone
      -->
      <md-input-container md-no-float class="md-block md-has-icon">
        <label>{{ 'COMPANY.CONTACT_PHONE' | translate }}</label>
        <ng-md-icon icon="phone" class="md-icon"></ng-md-icon>
        <input ng-model="vm.company.contact_phone" name="contact_phone" type="text" ng-required="true">

        <!-- Validation messages -->
        <div ng-show="companyForm.$submitted" ng-messages="companyForm.contact_phone.$error">
          <div ng-message="required">{{ vm.msUtils.translation.genericRequiredFieldMessage('COMPANY.CONTACT_PHONE') }}</div>
        </div>
      </md-input-container>

      <!--
      Contact email
      -->
      <md-input-container md-no-float class="md-block md-has-icon">
        <label>{{ 'COMPANY.CONTACT_EMAIL' | translate }}</label>
        <ng-md-icon icon="mail" class="md-icon"></ng-md-icon>
        <input ng-model="vm.company.contact_email" name="contact_email" type="email" ng-required="true">

        <!-- Validation messages -->
        <div ng-show="companyForm.$submitted" ng-messages="companyForm.contact_email.$error">
          <div ng-message="required">{{ vm.msUtils.translation.genericRequiredFieldMessage('COMPANY.CONTACT_EMAIL') }}</div>
        </div>
      </md-input-container>

      <!--
      Domain name
      -->
      <!--<md-input-container md-no-float class="md-block md-has-icon">-->
        <!--<label>{{ 'COMPANY.DOMAIN' | translate }}</label>-->
        <!--<ng-md-icon icon="link" class="md-icon"></ng-md-icon>-->
        <!--<input ng-model="vm.company.domain" name="domain" type="text" ng-required="true">-->

        <!--&lt;!&ndash; Validation messages &ndash;&gt;-->
        <!--<div ng-show="companyForm.$submitted" ng-messages="companyForm.domain.$error">-->
          <!--<div ng-message="required">{{ vm.msUtils.translation.genericRequiredFieldMessage('COMPANY.DOMAIN') }}</div>-->
        <!--</div>-->
      <!--</md-input-container>-->

      <md-button type="submit" class="md-raised md-primary">
        {{ vm.isNewCompany ? ('BUTTON.CREATE' | translate) : ('BUTTON.SAVE' | translate) }}
      </md-button>
    </form>
  </div>
</md-content>

<div ui-view></div>
